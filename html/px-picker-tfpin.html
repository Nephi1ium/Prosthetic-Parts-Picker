<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="node_modules/bootstrap/dist/css/bootstrap.min.css" >
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lobster|Open+Sans" />
    <link rel="stylesheet" href="../css/px-picker-main-page.css">
    <link rel="stylesheet" href="../css/header.css">
    <link rel="stylesheet" href="../css/card.css">


    <link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css" integrity="sha384-AYmEC3Yw5cVb3ZcuHtOA93w35dYTsvhLPVnYs9eStHfGJvOvKxVfELGroGkvsg+p" crossorigin="anonymous"/>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link rel="stylesheet" href="../css/test.css">
    <link rel="stylesheet" href="../css/itemchoices.css">
    <link rel="stylesheet" href="../css/horizontal_card.css">
    <link rel="stylesheet" href="../css/cart.css">
    <link rel="stylesheet" href="../css/navigator.css">


    <title>Transfemoral Pin </title>
</head>
<body>

<aside id="cartBody">
  <img class="cart-image" src="../images/Icons/shoppingcart.png"></img>  
    <div class="cartContainer">
      <div id="cartSection">
      
    </div>
  </div>
</aside>

  <header class="banner_display">
    <h1 class="header_title"><img src="../images/prosthetic_logo.jpg" class="banner_image"> TransFemoral Pin </h1>
</header> 
<nav id="mainNavigation"></nav>




<!-- below is the div which contains the knee section -->
<button class="openbtn" id="resPage">X</button>
    <!-- RIght now this resets the page, I should simply set the state of each element to "initial" -->
<main id="main">
<nav id="itemNavigator" class="myItemNavigator">
<a href="javascript:void(0)"  class="closebtn" onclick="closeNav()">&times;</a>

  <a id="kneeButton" class="toggle mainChoice">    Knees  </a>

  <section id="kneesSection" class="noShow">         

<!--          Start of K1/K2 Category                                 -->
                      <a class=" toggle secButtons "  id="kOneTwo">              K1/K2            </a>
<!--          Start of the 4 inner categories of K1/K2 Knees          -->
                            <section class=" noShow  " id="kOneTwoSection">

                            <a id="fric" class=" indivChoice kOne"  >                        Friction, Extension Assist                        </a>

                            <a id="fricMan"class=" indivChoice   kOne"  >                        Friction, Extension Assist, Manual Lock                        </a>

                            <a id="fricExtStan" class=" indivChoice   kOne"  >                        Friction, Extension Assist, Stance Flexion                        </a>

                            <a class=" indivChoice   kOne" id="fricExtStanLock"  >                        Friction, Extension Assist, Stance Flexion, Manual Lock                        </a>
                            
                            </section>
<!--                   End of the K1/K2 Category -->        
<!--               Beginning of the Single Axis Category -->           
              <a class="secButtons  "  id="singleAxis">                Single Axis              </a>               
<!--                   Container for all the Single Axis Knee categories -->
            <nav>
              <ul class="nav">
                <li>
                  <a class="indivChoice noShow  singleAxis" id="singAxManLock"  >
                    Manual Lock
                  </a>
                </li>
                <li>
                  <a class="indivChoice noShow  singleAxis" id="singAxPneuFric"  >
                    Pneumatic Swing, Friction Stance
                  </a>
                </li>
                <li>
                  <a class="indivChoice noShow  singleAxis"  id="singAxHydStanSwin">
                    Hydraulic Stance and Swing
                  </a>
                </li>
              </ul>
            </nav>
  
<!--                   End of Single Axis Knee Category information -->
              

          
<!--               End of the Single Axis Category -->
<!--               Beginning of the Safety Knees Category -->
              
            
              <a class="secButtons "  id="safeKnee">
                Safety Knees
              </a>

              <nav >
                <ul class="nav">
                  <li>
                  <a class="indivChoice noShow  safety"  id="safeExt" href="#"> Extension Assist </a>
                </li>
                  <li>
                  <a class="indivChoice noShow  safety"  id="safeFlexExt" href="#"> Stance Flexion and Extension Assist</a>
                </li>
                  </ul>
              </nav>
<!--               End of the safety knees category -->
<!--               Start of the polycentric knees category -->
          
            
              <a class="secButtons  "  id="polyKnee">
              Polycentric Knees
              </a>

          <nav>
            <ul class="nav">
              <li>
                <a class="indivChoice noShow  polycentric"  id="polyHydrau" href="#"> Hydraulic Swing </a>
              </li>
              <li>
                <a class="indivChoice noShow  polycentric"  id="polyHydrauStan" href="#"> Hydraulic Swing and Stance Flexion</a>
              </li>
              <li>
                <a class="indivChoice noShow  polycentric"  id="polyPneu" href="#"> Pneumatic Swing</a>
              </li>
              <li>
                <a class="indivChoice noShow  polycentric"  id="polyPneuSwinStanFlex" href="#"> Pneumatic Swing and Stance Flexion</a>
              </li>
              <li>  
                <a class="indivChoice noShow  polycentric"  id="polyHydrSwinStanFlexHigh" href="#"> Hydraulic Swing, Stance Flexion, High Activity Frame</a>
              </li>
            </ul>
          </nav>




<!--        End of the Polycentric knees category        -->
<!--               Start of the MPK Category -->
          
            
<a class="secButtons  "  id="polyKnee">
Microprocessor Knees
</a>

<nav>
<ul class="nav">
<li>
  <a class="indivChoice noShow  mpk"  id="allMPK" href="#"> All MPK </a>
</li>
<li>
  <a class="indivChoice noShow  mpk"  id="mpkSwOnly" href="#"> MPK Swing Only</a>
</li>
</ul>
</nav>





              <!-- <a class="indivChoice noShow  mpk"  id="MPKChoice" href="#"> Blatchford</a> -->

              <a class="secButtons  "  id="miscKnees">
          Miscellaneous Knees
                </a>
              
              <nav>
              <ul class="nav">
                <li>
                  <a class="indivChoice noShow  mpk"  id="allMisc" href="#"> All Miscellaneous Knees </a>
                </li>
              </ul>
              </nav>
<!--               End of the MPK category -->


  </section> 


  <a id="feetButton" class="toggleOne Feet mainChoice">
    Feet
  </a>
  <section id="feetSection" class="noShow">

                 <a id="feetOne" class=" secButtons feet"  >
                  K2 Flexible Keel with Hydraulic multiaxial ankle:     L5968,  L5972                  </a>
                  <a id="feet2"class="secButtons  feet"  >
                  K3 Flexwalk with Hydraulic Multiaxial ankle:     L5968,  L5981
                </a>
                  <a id="feet3" class="secButtons  feet"  >
                  K3 Flexwalk with with Hydraulic Multiaxial ankle and adjustable heel height: L5968, L5981, L5990
                </a>
                  <a class="secButtons  feet" id="feet4"  >
                  K3 Flexwalk with Hydraulic Multiaxial ankle and Vertical Shock:     L5968,  L5981, L5988
                </a>
                <a id="feet5" class=" secButtons feet"  >
                SACH:     L5971
              </a>
                      <a id="feet6" class=" secButtons feet"  >
                    K2 Flexible Heel:     L5972
                  </a>
                            <a id="feet7"class="secButtons  feet"  >
                    K2 Flexible Keel with Multiaxial Rotation:     L5972, L5986
                  </a>
                      <a id="feet8"class="secButtons  feet"  >
                  K2 Flexible Keel with axial Rotation & Vertical Shock:     L5972, L5984, L5988
                </a>
                        <a id="feet9" class="secButtons  feet"  >
                    Microprocessor Feet:     L5973
                  </a>
                        <a class="secButtons  feet" id="feet10"  >
                    Single Axis:     L5974
                  </a>
                      <a id="feet11"class="secButtons  feet"  >
                  Energy Storing:     L5976
                </a>
                  <a id="feet12" class="secButtons  feet"  >
                  Multiaxial Dynamic Response:     L5979
                </a>
                  <a class="secButtons  feet" id="feet13"  >
                  Flexfoot:     L5980
                </a>
                <a id="feet14" class=" secButtons feet"  >
                Flexfoot with Multiaxial Ankle:     L5980,  L5986
              </a>
                      <a id="feet15" class=" secButtons feet"  >
                    Flexwalk:     L5981
                  </a>
                            <a id="feet16"class="secButtons  feet"  >
                    Flexwalk with Multiaxial Ankle:     L5981 L5986
                  </a>
                        <a id="feet17" class="secButtons  feet"  >
                    Vertical Shock with Axial Rotation:     L5984,  L5987
                  </a>
                        <a class="secButtons  feet" id="feet18"  >
                    Vertical Shock with Multiaxial Rotation:     L5986,  L5987
                  </a>
                      <a id="feet19" class=" secButtons feet"  >
                  Vertical Shock:     L5987
                      <a id="feet20"class="secButtons  feet"  >
                  Flexwalk with Multiaxial Ankle and Vacuum  :     L5987,  L5986,  L5781
                </a>
                  <a id="feet21" class="secButtons  feet"  >
                  Coding Group:     L5999 Base Code
                </a>
                  <a class="secButtons  feet" id="feet22"  >
                  Coding Group:     Miscellaneous
                </a>
  </section>
          


  <a class="mainChoice  toggleTwo"  id="linerButton">
    Liners
  </a>

  <section id="linersSection" class="noShow ">

              <a class=" secButtons mpk"  id="pin" > Pin </a>

              <a class=" secButtons  mpk"  id="cush" > Cushion </a>
    
              <a class="secButtons   mpk"  id="seal"> Seal-In </a>
    
              <a class=" secButtons  mpk"  id="custom" > Custom </a>
      

  </section>


  <a id="compButton" class="toggleThree mainChoice">
    Components
  </a>

  <section id="componentsSection" class="noShow">

      <a class=" secButtons  mpk"  id="socks" > Socks  </a>
    
      <a class="secButtons   mpk"  id="sleeves"> Sleeves and Sheaths </a>

      <a class=" secButtons  mpk"  id="components" > Build Components </a>

  </section>
</nav>
</main>
<span style="font-size:30px;cursor:pointer">1. Start Here</span>
<button  onclick="openNav()">Click Me</button>

<main class="mainpage favorites" id="itemSectionJS"></main>
<main class="mainpage" id="mainpageSectionforJS">


<!-- HERE IS WHERE THE JS PORTION OF THE CODE WILL DISPLAY IN THE VIEWPORT -->






</main>
<!-- K1/K2 4-Bar Knee Section -->








<footer class="site-footer">
  <div class="container">
      <div class="row">             
          <div class="col-4 col-sm-2 offset-1">
              <h5>Links</h5>
              <ul class="list-unstyled">
                  <li><a href="index.html">Home</a></li>
                  <li><a href="aboutus.html">About</a></li>
                  <li><a href="#">Sites</a></li>
                  <li><a href="contactus.html">Contact</a></li>
              </ul>
          </div>
          <div class="col-6 col-sm-5 text-center">
              <h5>Social</h5>
              <a class="btn btn-social-icon btn-instagram" href="http://instagram.com/"><i class="fa fa-instagram"></i></a>
              <a class="btn btn-social-icon btn-facebook" href="http://facebook.com/"><i class="fa fa-facebook"></i></a>
              <a class="btn btn-social-icon btn-twitter" href="http://twitter.com/"><i class="fa fa-twitter"></i></a>
              <a class="btn btn-social-icon btn-google" href="http://youtube.com/"><i class="fa fa-youtube"></i></a>
          </div>
          <div class="col-sm-4 text-center">
              <a role="button" class="btn btn-link" href="tel:+16187804206"><i class="fa fa-phone"></i> 1-618-780-4206</a><br />
              <a role="button" class="btn btn-link" href="mailto:andmaurer13@gmail.com"><i class="fa fa-envelope-o"></i> andmaurer13@gmail.com</a>
          </div>                
     </div>
  </div>


</footer>
</div>




<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js" integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js" integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13" crossorigin="anonymous"></script>
<script src="../js/test.js"></script>
<script src="../js/px-picker-main.js"></script>
<script src="../js/toggleDisplayComponent.js"></script>

<script src="../js/tfCardTest.js"></script>
<script src="../js/navigator.js"></script>

<script type="module" src="../js/kneesComponent.js"></script>
<script type="module" src="../js/feetComponent.js"></script>
<script type="module" src="../js/linersComponent.js"></script>
<script type="module" src="../js/componentsComponent.js"></script>
<script>

  favoritesArray = [];
  

  function favorites(ident, keyed){

console.log(keyed.id, "keyed object");
console.log(ident.id, "ident object");
    
    let getStoredFavorite = JSON.parse(localStorage.getItem(keyed.id));
    console.log(getStoredFavorite, "retrieved cart item from local storage");
    // retrieve the stored favorite item

    favoritesArray.push(getStoredFavorite);
     console.log(favoritesArray, "local storage array with favorite item");
        // add the item to the cart array
      
      localStorage.setItem("Favorites", JSON.stringify(favoritesArray))
        // push the cartArray to local storage

      let getFavorites = JSON.parse(localStorage.getItem("Favorites"));
      console.log(getFavorites, "local storage favorite array");
        // retrieve the stored array to check the values
        document.getElementById('itemSectionJS').innerHTML = "";
        // clear the favorites viewport so the older items are removed, and redisplayed as a new one is added
        let favoritesLocation = document.querySelector('#itemSectionJS');
        // document.getElementById('itemSectionJS').innerHTML = getFavorites;

        // set the location where the favorite should show in the new configuration

        getFavorites.forEach(component => {    
          favoritesLocation.innerHTML = favoritesLocation.innerHTML +
         `<div class="card card-margin" id="${component.valAssign}">
         <a class="kneeClick btn-small btn btn-primary" onclick="cart(${component.valAssign}, ${component.valAssign})" > + Cart </a>
         <img class="card-image" src="${component.image}"></img>

            <div class="card-header">
                <h4 id=""> ${component.name} </h4>
                <a class="kneeClick btn btn-primary" onclick="removeFavorites(${component.valAssign}, ${component.valAssign})" > Remove Favorite (not working) </a>
                <div id="">HD Code: ${component.hdcode}</div>
                </div>
            </div>
        </div>`;
        console.log("Created", component.card, "Cards");
        
        });

        // display the card item and only the chosen items


        // favoritesArray.push(ident.outerHTML);
// console.log(favoritesArray, "local storage array with Favorited Card");
    
// localStorage.setItem("Local Storage Array", JSON.stringify(favoritesArray));
    // set the array item to local storage
// console.log(getLocalStorageArray, "retrieved local storage array");
// localStorage.setItem("Local Storage Array", JSON.stringify(localStoreArray));
// let getLocalStorageArray = JSON.parse(localStorage.getItem("Local Storage Array"));
// console.log(getLocalStorageArray, "retrieved local storage array");

 
// THE ABOVE WORKS, NEED TO FINISH

// localStorage.setItem("Favorites", JSON.stringify(ident.outerHTML));
// let favorite = JSON.parse(localStorage.getItem("Favorites"));
// console.log(favorite, "Favorite Item Display");


}

</script>
<script>
  cartArray = [];
  cartDisplayArray = [];

function cart(ident, keyed){

    console.log(keyed.id, "keyed object");
    console.log(ident.id, "ident object");
    // console.log(ident.valAssign, "value assigned to object"); THIS DOESNT WORK, DONT TRY IT!

    let getStoredFavorite = JSON.parse(localStorage.getItem(keyed.id));
    console.log(getStoredFavorite, "retrieved cart item from local storage");
    // retrieve the item

     cartArray.push(getStoredFavorite);
     console.log(cartArray, "local storage array with cart item");
        // add the item to the cart array
      
      localStorage.setItem("cart", JSON.stringify(cartArray))
        // push the cartArray to local storage

      let getCart = JSON.parse(localStorage.getItem("cart"));
      console.log(getCart, "local storage cart array");
        // retrieve the stored array to check the values


        cartDisplayArray.push(getCart);
        console.log(cartDisplayArray, "local storage array with displayed cart items");
        //  push the pulled cart items into the cart array

        localStorage.setItem("display cart", JSON.stringify(cartDisplayArray));
    // push the cart display array to local storage

    let showCart = JSON.parse(localStorage.getItem("cart"));
      console.log(showCart, "local storage cart array");
    // retrieve the item from local storage

    let cartLocation = document.querySelector('#cartSection');
    // display the cart in the cart section section 
    document.getElementById('cartSection').innerHTML = "";
    // clear the cart window on addition of a new item

    showCart.forEach(component => {    
      cartLocation.innerHTML = cartLocation.innerHTML +
         `<div id="${component.valAssign}">
         <a class="kneeClick btn-small btn btn-primary" onclick="removeCart(${component.valAssign}, ${component.valAssign})"> Delete </a>
         <img class="cart-image" src="${component.image}"></img>
          <h4 > ${component.name} </h4>
        </div>`;
        console.log("Created", component.value, "Cards");
        
        });
    // display the retrieved array items in the "cart" 

    // allow deletion of cart items, remove item from array and then push the modified array back to local storage
   
    

    
    }

    


    </script>

    <script>
function removeCart(value, sameValue){

// console.log(value[0], "value object");
// console.log(value.id, "sameValue object");
console.log((sameValue)[0].id, "Samevalue id object");
// console.log(sameValue.id, "sameValue id object no array");
// console.log(ident.valAssign, "value assigned to object");

let getCartArray = JSON.parse(localStorage.getItem((sameValue)[0].id));
console.log(getCartArray, "retrieved cart item from local storage");
// retrieve the item

let getCart = JSON.parse(localStorage.getItem("cart"));
console.log(getCart, "local storage cart array");
  // retrieve the stored array and check the values


let cartItemIndex = getCart.indexOf((sameValue)[0].id, 0);
console.log(cartItemIndex, "Index of the cart item")
// find the index of the array item with the "ident.value"

getCart.splice(cartItemIndex, 1);
console.log(getCart, "getCart Array spliced")
// splice out the item from the cart array. 

localStorage.setItem("cartOne", JSON.stringify(getCart));
// push the modified cartArray back to local storage

let showCartOne = JSON.parse(localStorage.getItem("cartOne"));
console.log(showCartOne, "local storage new cart array");
// retrieve the cart array back from local storage
let showCart = JSON.parse(localStorage.getItem("cart"));
console.log(showCart, "local storage cart array");
// retrieve the cart array back from local storage

let cartLocation = document.querySelector('#cartSection');
// link to a display section of the viewport
document.getElementById('cartSection').innerHTML = "";
// clear the cart window on addition of a new item

localStorage.setItem("cartOne", JSON.stringify(getCart));
// push the modified cartArray back to local storage

// display the cart in the cart section section 
showCartOne.forEach(component => {    
cartLocation.innerHTML = cartLocation.innerHTML +
   `<div id="${component.valAssign}">
   <a class="kneeClick btn-small btn btn-primary" onclick="removeCart(${component.valAssign}, ${component.valAssign})"> Delete </a>
   <img class="cart-image" src="${component.image}"></img>
          <h4 > ${component.name} </h4>
  </div>`;
  console.log("Created", component.valAssign, "Cards");
  
  });
// display the retrieved array items in the "cart" 
// reload the cart and display it anew
}

    </script>

    <script>
      function showCart(){
        let showCartOne = JSON.parse(localStorage.getItem("cartOne"));
        console.log(showCartOne, "deleted an item and showing local storage new cart array");
      // retrieve the cart array back from local storage
      let cartLocation = document.querySelector('#cartSection');
      // link to a display section of the viewport
      document.getElementById('cartSection').innerHTML = "";
      // clear the cart window on addition of a new item

      // display the cart in the cart section section 
      showCartOne.forEach(component => {    
      cartLocation.innerHTML = cartLocation.innerHTML +
        `<div id="${component.valAssign}">
        <a class="kneeClick btn-small btn btn-primary" onclick="removeCart(${component.valAssign}, ${component.valAssign})"> Delete </a>
        <img class="cart-image" src="${component.image}"></img>
                <h4 > ${component.name} </h4>
        </div>`;
        console.log("Created", component.valAssign, "Cards");
  
  });
      }
      window.addEventListener('load', showCart());

    </script>

<!-- <script type="module" src="../js/selectItemComponent.js"></script> -->


<script  type="module" src="../js/jsRouterComponent.js"></script>
<script type="module" src="../js/cardNavigator.js"></script>





</body>
</html>